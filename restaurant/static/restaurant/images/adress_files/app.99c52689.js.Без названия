(function(t){function e(e){for(var s,n,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)n=o[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},n={app:0},r={app:0},i=[];function o(t){return c.p+"widget/js/"+({}[t]||t)+"."+{"chunk-060cb8e6":"c3b92ff6","chunk-1bb00d29":"b1cee567","chunk-e8eb45d2":"8e7ec396","chunk-5078a51a":"caf6be63"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-e8eb45d2":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var s="widget/css/"+({}[t]||t)+"."+{"chunk-060cb8e6":"31d6cfe0","chunk-1bb00d29":"31d6cfe0","chunk-e8eb45d2":"a8d3981e","chunk-5078a51a":"31d6cfe0"}[t]+".css",r=c.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===s||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[t],p.parentNode.removeChild(p),a(i)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){n[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,a){s=r[t]=[e,a]}));e.push(s[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0003":function(t,e,a){},"0374":function(t,e,a){"use strict";var s=a("66a1"),n=a.n(s);n.a},"03b9":function(t,e,a){"use strict";var s=a("0003"),n=a.n(s);n.a},"10fe":function(t,e,a){"use strict";var s=a("e7f2"),n=a.n(s);n.a},1469:function(t,e,a){},"160a":function(t,e,a){"use strict";var s=a("8c1a"),n=a.n(s);n.a},"165a":function(t,e,a){"use strict";var s=a("775b"),n=a.n(s);n.a},2517:function(t,e,a){},3047:function(t,e,a){"use strict";var s=a("1469"),n=a.n(s);n.a},"3c0a":function(t,e,a){},4103:function(t,e,a){},"50e5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("c1f9"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d"),a("96cf");var s=a("c964"),n=a("f3f3"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=a("bc3a"),o=a.n(i),c=a("7bb1"),u=a("4c93"),l=a("a7fe"),d=a.n(l),p=(a("99af"),a("c975"),a("d81d"),a("b0c0"),a("b64b"),a("2f62")),f=(a("4d90"),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),m=["winter","spring","summer","autumn"],h=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],g=function(t){return String(t.getDate()).padStart(2,"0")},b=function(t){return String(t.getMonth()+1).padStart(2,"0")},v=function(t){return String(t.getFullYear())},_=function(t){return"".concat(g(t),".").concat(b(t),".").concat(v(t))},y=function(t){return"".concat(t.getDate()," ").concat(h[t.getMonth()]," ").concat(v(t))},k=function(t){return m[Math.floor((t.getMonth()+1)/12*4)%4]},$="bookbanket",w="OK",C="NeedRegistration";r["a"].use(p["a"]);var D=12096e5,x=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r["a"].axios.get("/?m=reguser&otherdates=".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),O=function(t){return Boolean(t)&&"<p></p>"!==t?t:null},S=new p["a"].Store({state:{isLoading:!1,isChangeDate:!1,isChangeHall:!1,params:Object.create(null),date:new Date,status:C,data:null,busyDates:null,partBusyDates:null,callbackData:null,permission:0,unic:null,hallsid:null,quotaAge:new Date(Date.now()-D),dateSelected:!1,phone:null},mutations:{setPhone:function(t,e){t.phone=e},setLoading:function(t,e){t.isLoading=e},setChangeDate:function(t,e){t.isChangeDate=e},setChangeHall:function(t,e){t.isChangeHall=e},setParams:function(t,e){t.params=Object(n["a"])({},t.params,{},e)},setDate:function(t,e){t.date=e},setStatus:function(t,e){t.status=e},setData:function(t,e){t.data=e},setCallbackData:function(t,e){t.callbackData=e},setPermission:function(t,e){t.permission=e},setBusyDates:function(t,e){t.busyDates=e},setPartBusyDates:function(t,e){t.partBusyDates=e},setUnic:function(t,e){t.unic=e},setHallsId:function(t,e){t.hallsid=e},setQuotaAge:function(t,e){t.quotaAge=e},setDateSelected:function(t){t.dateSelected=!0}},actions:{setLoading:function(t,e){var a=t.commit;a("setLoading",e)},setPhone:function(t,e){var a=t.commit;a("setPhone",e)},setChangeDate:function(t,e){var a=t.commit;a("setChangeDate",e)},setChangeHall:function(t,e){var a=t.commit;a("setChangeHall",e)},setParams:function(t,e){var a=t.commit;a("setParams",e),r["a"].axios.defaults.params=Object(n["a"])({},r["a"].axios.defaults.params,{},e)},setDate:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.commit,n=t.state.status,r=t.getters,s("setDate",e),s("setChangeDate",!1),n!==w){a.next=6;break}return a.next=6,x(r.date);case 6:case"end":return a.stop()}}),a)})))()},setStatus:function(t,e){var a=t.commit;a("setStatus",e)},setData:function(t,e){var a=t.commit;a("setData",e)},setCallbackData:function(t,e){var a=t.commit;a("setCallbackData",e)},setPermission:function(t,e){var a=t.commit;a("setPermission",e)},setBusyDates:function(t,e){var a=t.commit;a("setBusyDates",e)},setPartBusyDates:function(t,e){var a=t.commit;a("setPartBusyDates",e)},setUnic:function(t,e){var a=t.commit;a("setUnic",e)},setHallsId:function(t,e){var a=t.commit;a("setHallsId",e),a("setChangeHall",!1)},setQuotaAge:function(t,e){var a=t.commit;a("setQuotaAge",new Date(e))},getHalls:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.getters.month,e.next=3,r["a"].axios.get("/?m=gethalls&month=".concat(s));case 3:n=e.sent,i=n.data,o=i.result,c=i.data,a("setStatus",o),a("setBusyDates",c&&c.busydates?c.busydates:null),a("setPartBusyDates",c&&c.partbusydates?c.partbusydates:null),a("setUnic",c&&c.unic?c.unic:null);case 11:case"end":return e.stop()}}),e)})))()},getStart:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i,o,c,u,l,d,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.dispatch,e.next=3,r["a"].axios.get("/?m=start");case 3:n=e.sent,i=n.data,o=i.result,c=i.data,u=i.terms,l=i.callback,d=i.callback_header,p=i.callback_button,f=i.callback_whatsapp,m=i.cat,c.terms=u,a("setStatus",o),a("setData",c),e.t0=m,e.next="ploshchadka"===e.t0?19:"vedushchij"===e.t0?21:"foto"===e.t0?23:"video"===e.t0?25:27;break;case 19:return a("setPermission","0"),e.abrupt("break",28);case 21:return a("setPermission","1"),e.abrupt("break",28);case 23:return a("setPermission","1"),e.abrupt("break",28);case 25:return a("setPermission","1"),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:if(c.halls&&1===Object.keys(c.halls).length&&0!==S.state.permission&&s("setHallsId",Object.keys(c.halls)[0]),a("setCallbackData",{callback:l,callback_header:d,callback_button:p,callback_whatsapp:f}),o!==w){e.next=34;break}return a("setDate",new Date),e.next=34,s("getHalls");case 34:case"end":return e.stop()}}),e)})))()},getReguser:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,n,i,o,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=t.dispatch,a.next=3,r["a"].axios.get("/?m=reguser",{params:e});case 3:return i=a.sent,o=i.data,c=o.result,u=o.data,l=o.id_binfo,s("setStatus",c),s("setPhone",e.phone),s("setData",u),s("setDate",new Date),1===Object.keys(u.halls).length&&0!==S.state.permission&&n("setHallsId",Object.keys(u.halls)[0]),n("setParams",{id_binfo:l}),a.abrupt("return",l);case 15:case"end":return a.stop()}}),a)})))()}},getters:{isAuth:function(t){var e=t.status,a=t.params;return e===w||Boolean(a.id_binfo)},date:function(t){var e=t.date;return _(e)},day:function(t){var e=t.date;return g(e)},dMyyyy:function(t){var e=t.date;return y(e)},weekday:function(t){var e=t.date;return f[e.getDay()]},season:function(t){var e=t.date;return k(e)},month:function(t){var e=t.date;return _(function(t){return new Date(t.setDate(1))}(new Date(e)))},terms:function(t,e){var a=t.data,s=e.weekday;return a&&O(a["common_terms_".concat(s)])},quotas:function(t){return t.data&&t.data.text_list_quota||[]},hasQuota:function(t,e){var a=t.params.quota,s=t.quotaAge,n=e.isAuth,r=e.quotas;return!(!n||!a||-1===r.indexOf(a))&&Date.now()-s.getTime()<D},isBusyDay:function(t,e){var a=e.weekday;return/friday|saturday|sunday/.test(a)},halls:function(t){var e=t.data;return e&&e.halls&&Object.keys(e.halls).map((function(t){var a=e.halls[t],s=a.name,n=a.vot,r=a.vdo;return{id:t,name:s,description:"от ".concat(n," до ").concat(r," гостей")}}))},hall:function(t,e){var a=t.data,s=t.hallsid,n=t.busyDates,r=t.partBusyDates,i=t.unic,o=e.day,c=e.weekday,u=e.season,l=e.terms,d=a&&a.halls&&s&&a.halls[s],p=d||{},f=p.name,m=p.fotos,h=p.info,g=p.vot,b=p.vdo,v=p.special_info,_=p.common_terms,y=i&&i[o]&&i[o].halls&&i[o].halls[s]&&O(i[o].halls[s].terms),k=v&&v["".concat(u,"_").concat(c)]&&O(v["".concat(u,"_").concat(c)].terms),$=v&&v[c]&&O(v[c].terms),w=_&&O(_);return d&&{id:s,name:f,fotos:m,note:O(h)||"от ".concat(g," до ").concat(b," чел."),isBusy:Boolean(n&&n[o]&&n[o].halls&&n[o].halls[s]),isPartBusy:Boolean(r&&r[o]&&r[o].halls&&r[o].halls[s]),description:y||k||$||w||l}}}});S.watch((function(t,e){var a=e.month;return a}),(function(){return S.state.status===w&&S.dispatch("getHalls")}));var P=S,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("DIV",{attrs:{id:"app"}},[t.isInline?t.isInline?a("div",{staticClass:"inlineModal",class:{"is-auth":t.$store.getters.isAuth}},[a("Inner",{attrs:{isInline:t.isInline}})],1):t._e():a("Modal",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isLoading,expression:"!$store.state.isLoading"}],on:{close:t.close}},[a("Inner",{attrs:{isInline:t.isInline}})],1)],1)},j=[],A=function(t,e){return window.parent.postMessage(JSON.stringify({namespace:"bookbanket",type:t,data:e}),"*")},M=A,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Layout",{scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"datePickerWrapper",class:t.datePickerClasses,on:{click:t.onClickDatePicker}},[a("DatePicker",{key:Number(t.$store.state.date),attrs:{value:t.$store.state.date,disabledDates:t.disabledDates},on:{selected:t.selectedDate,changedMonth:t.playFocusAnimation,changedYear:t.playFocusAnimation,changedDecade:t.playFocusAnimation}}),t.isMobile()&&t.$store.getters.isAuth?a("SelectDateNotification"):t._e()],1),t.$store.getters.isAuth?t._e():a("Annonce",{staticClass:"note",scopedSlots:t._u([{key:"header",fn:function(){return[a("h2",{class:{isBusy:t.$store.getters.isBusyDay}},[t._v(t._s(t.$store.getters.date)+" - Дата "+t._s(t.$store.getters.isBusyDay?"занята":"свободна"))])]},proxy:!0},{key:"section",fn:function(){return[a("strong",[t._v("Условия на "+t._s(t.$store.getters.date))]),a("Description",{domProps:{innerHTML:t._s(t.$store.getters.terms)}})]},proxy:!0},{key:"footer",fn:function(){return[a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.playFocusAnimation}},[t._v("Посмотреть цены и акции")])]},proxy:!0}],null,!1,2691160971)}),t.$store.getters.isAuth?t._e():a("BaseButton",{staticClass:"popupTrigger",attrs:{type:"submit"},nativeOn:{click:function(e){t.isOpen=!0}}},[t.isMobile()?a("span",[t._v("Посмотреть все даты")]):a("span",[t._v("Посмотреть весь календарь")])]),t.$store.getters.isAuth&&!t.$store.getters.hasQuota?a("BaseButton",{staticClass:"popupTrigger",style:{marginTop:"40px"},attrs:{type:"submit"},nativeOn:{click:function(e){t.isOpen=!0}}},[t._v("Выберите количество гостей")]):t._e(),t.isInline?t._e():a("div",{staticClass:"copyright",class:{isChangeDate:t.$store.state.isChangeDate,isAuth:t.$store.getters.isAuth}},[t._v("Мы используем "),a("a",{attrs:{href:"https://www.bookbanket.ru/",target:"_blank",rel:"noopener"}},[t._v("BookBanket")])])]},proxy:!0},{key:"right",fn:function(){return[t.$store.getters.isAuth&&t.$store.getters.hasQuota?t._e():a("div",{staticClass:"reg"},[a("div",{staticClass:"phantom"},[a("DatePicker",{key:Number(t.phantomDate),staticClass:"datePickerWrapper",attrs:{value:t.phantomDate,disabled:!0}})],1),t.$store.getters.isAuth?a("FormQuota",{staticClass:"form"}):a("FormRegistration",{ref:"formRegistration",staticClass:"form",on:{onValidate:t.registrationFormSubmit}})],1),t.$store.getters.isAuth&&t.$store.getters.hasQuota&&t.stateSelectedDate||t.isMobile()&&t.$store.getters.isAuth&&t.$store.getters.hasQuota?a("Hall"):t._e(),t.$store.getters.isAuth&&t.$store.getters.hasQuota&&!t.stateSelectedDate&&!t.isMobile()?a("SelectDateNotification"):t._e(),t.$store.getters.hall&&!t.$store.state.isChangeDate&&!t.$store.state.isChangeHall&&t.stateSelectedDate?a("FormPrice",{staticClass:"formP",attrs:{isSent:t.isSent},on:{onValidate:t.formSubmit}}):t._e()]},proxy:!0}])}),!t.isOpen||t.$store.getters.isAuth&&t.$store.getters.hasQuota?t._e():a("Modal",{on:{close:function(e){t.isOpen=!1}}},[t.$store.getters.isAuth?a("FormQuota",{staticClass:"form"}):a("FormRegistration",{staticClass:"form",on:{onValidate:t.registrationFormSubmit}})],1)],1)},q=[],I=(a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"modal-mask"},"div",t.props,!1),t.$listeners),[a("div",{staticClass:"inner"},[a("span",{staticClass:"close",on:{click:function(e){return t.close()}}},[t._v("✕")]),t._t("default")],2)])])}),H=[],L={name:"Modal",data:function(){return{isOpen:!1,props:Object(n["a"])({},this.$props,{},this.$attrs)}},methods:{close:function(){var t=this;this.isOpen=!1,setTimeout((function(){t.$emit("close")}),500)}},created:function(){var t=this;this.isOpen=!0,document.addEventListener("keyup",(function(e){var a=e.which||e.keyCode||0;27===a&&t.close()}))}},E=L,T=(a("c9bd"),a("2877")),Q=Object(T["a"])(E,I,H,!1,null,"3a545f97",null),F=Q.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",t._g(t._b({staticClass:"layout",style:{"min-height":"1"===t.$store.state.permission?"auto":""}},"section",t.props,!1),t.$listeners),[a("aside",{staticClass:"left"},[t._t("left")],2),a("aside",{staticClass:"right"},[t._t("right")],2)])},V=[],U={name:"Layout",data:function(){return{props:Object(n["a"])({},this.$props,{},this.$attrs)}}},J=U,K=(a("9b1f"),Object(T["a"])(J,N,V,!1,null,"2d429d10",null)),W=K.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"annonce"},[a("header",{staticClass:"header"},[t._t("header")],2),a("section",{staticClass:"section"},[t._t("section")],2),a("footer",{staticClass:"footer"},[t._t("footer")],2)])},z=[],G={name:"Annonce"},X=G,Z=(a("0374"),Object(T["a"])(X,Y,z,!1,null,"7d2f5ec5",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"description"})},at=[],st={name:"Description"},nt=st,rt=(a("e3fe"),Object(T["a"])(nt,et,at,!1,null,"2c247501",null)),it=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationObserver",{attrs:{slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.passes;return[a("form",{staticClass:"formRegistration",attrs:{action:"/",method:"get",novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[a("span",{staticClass:"formRegistration__suptitle"},[t._v(t._s(t.textQuota))]),a("h2",{staticClass:"formRegistration__title",domProps:{innerHTML:t._s("Получите доступ к <br> датам и условиям онлайн")}}),a("span",{staticClass:"formRegistration__subtitle"},[t._v("Регистрация в 1 клик")]),a("label",{staticClass:"formRegistration__label",attrs:{for:"phone"}},[t._v("Ваш телефон")]),a("BaseInput",{staticClass:"formRegistration__input",attrs:{type:"tel",name:"phone",validate:{required:!0}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("span",{staticClass:"formRegistration__inputDescription"},[t._v("Без рассылок и спама")]),a("BaseButton",{staticClass:"formRegistration__submit",attrs:{type:"submit"}},[t._v("Получить доступ")]),a("div",{staticClass:"formRules"},[t._v("Нажимая «Получить доступ», вы принимаете следующие "),a("a",{attrs:{href:t.srcTerms||"#",target:"_blank",rel:"noopener"}},[t._v("условия использования.")])]),a("transition",{attrs:{name:"fade"},on:{"after-enter":t.afterEnter}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlayAnimation,expression:"isPlayAnimation"}],staticClass:"formRegistration__overlay"})])],1)]}}])})},ct=[],ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"baseButton",class:{"baseButton--red":t.isRed}},[t._t("default")],2)},lt=[],dt={props:{isRed:{type:Boolean,default:!1}}},pt=dt,ft=(a("10fe"),Object(T["a"])(pt,ut,lt,!1,null,null,null)),mt=ft.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationProvider",{attrs:{name:t.name,rules:t.dynamicValidate,slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"baseInput",class:{"baseInput--error":s[0],"baseInput--disabled":t.disabled}},[t.dynamicMask?[a("input",t._b({directives:[{name:"mask",rawName:"v-mask",value:t.dynamicMask,expression:"dynamicMask"}],staticClass:"baseInput__field",attrs:{placeholder:t.dynamicPlaceholder,autocomplete:t.autocomplete,name:t.name,id:t.name},on:{input:t.onInput}},"input",t.dynamicProps,!1))]:[a("input",t._b({staticClass:"baseInput__field",attrs:{placeholder:t.dynamicPlaceholder,autocomplete:t.autocomplete,name:t.name,id:t.name},on:{input:t.onInput}},"input",t.dynamicProps,!1))]],2)]}}])})},gt=[],bt=a("3a60"),vt={mask:"8 (###) ### - ## - ##",placeholder:"8 (___) ___ - __ - __",regex:/^8\s\(\d{3}\)\s\d{3}\s-\s\d{2}\s-\s\d{2}$/},_t={props:{type:{type:String,default:"text"},filedName:{type:String},name:{type:String,required:!0},value:{},placeholder:{type:String,default:""},autocomplete:{type:String,default:"off"},disabled:{type:Boolean,default:!1},mask:{type:String},validate:{type:Object}},directives:{mask:bt["mask"]},components:{ValidationProvider:c["b"]},methods:{setModel:function(t){this.$emit("input",t)},onInput:function(t){this.setModel(t.target.value)}},computed:{dynamicProps:function(){var t={};return void 0!==this.value&&(t.value=this.value),!0===this.disabled?t.disabled=!0:t.type=this.type,t},dynamicMask:function(){return this.mask?this.mask:"tel"===this.type?vt.mask:null},dynamicPlaceholder:function(){return"tel"===this.type?vt.placeholder:this.placeholder},dynamicValidate:function(){var t=this.validate;return"tel"===this.type&&void 0!==t&&void 0===t.regex&&(t.regex=vt.regex),t}}},yt=_t,kt=(a("62c2"),Object(T["a"])(yt,ht,gt,!1,null,null,null)),$t=kt.exports,wt={components:{ValidationObserver:c["a"],BaseButton:mt,BaseInput:$t},props:["inline-mode"],data:function(){return{phone:"",isPlayAnimation:!1}},computed:{textQuota:function(){return this.$store.state.data&&this.$store.state.data.text_quota},srcTerms:function(){return this.$store.state.data&&this.$store.state.data.terms}},methods:{afterEnter:function(){this.isPlayAnimation=!1},playAnimation:function(){this.isPlayAnimation=!0},onSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("onValidate",{phone:t.phone.replace(/[^0-9]+/g,"")});case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.$on("playFocusAnimation",this.playAnimation)},beforeDestroy:function(){this.$off("playFocusAnimation",this.playAnimation)}},Ct=wt,Dt=(a("165a"),Object(T["a"])(Ct,ot,ct,!1,null,null,null)),xt=Dt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationObserver",{attrs:{slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.passes;return[a("form",{staticClass:"formQuota",attrs:{action:"/",method:"get",novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[a("span",{staticClass:"formQuota__subtitle"},[t._v("Вы вошли в онлайн календарь!")]),a("h2",{staticClass:"formQuota__title"},[t._v("Выберите количество гостей")]),a("label",{staticClass:"formQuota__label",attrs:{for:"quota"}},[t._v("для отображения дат и условий")]),a("BaseSelect",{staticClass:"formQuota__select",class:{selected:"0"!==t.quota},attrs:{name:"quota",validate:{regex:/[0-9]+-[0-9]+/}},model:{value:t.quota,callback:function(e){t.quota=e},expression:"quota"}},t._l(t.options,(function(e){return a("option",{attrs:{disabled:e.disabled},domProps:{value:e.value}},[t._v(t._s(e.text))])})),0),a("BaseButton",{staticClass:"formQuota__submit",attrs:{type:"submit"}},[t._v("Перейти к календарю")])],1)]}}])})},St=[],Pt=(a("25f0"),a("1276"),a("d0ff")),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationProvider",{attrs:{name:t.name,rules:t.validate,slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("select",t._g(t._b({staticClass:"baseSelect",class:{"baseSelect--error":s[0],"baseSelect--disabled":t.disabled},domProps:{value:t.value}},"select",t.$attrs,!1),t.inputListeners),[t._t("default")],2)]}}],null,!0)})},jt=[],At={name:"BaseSelect",props:{name:{type:String,required:!0},value:{},disabled:{type:Boolean,default:!1},validate:{type:Object}},components:{ValidationProvider:c["b"]},data:function(){return{props:Object(n["a"])({},this.$props,{},this.$attrs)}},computed:{inputListeners:function(){var t=this;return Object(n["a"])({},this.$listeners,{input:function(e){t.$emit("input",e.target.value)}})}}},Mt=At,Rt=(a("5b42"),Object(T["a"])(Mt,Bt,jt,!1,null,null,null)),qt=Rt.exports,It={components:{ValidationObserver:c["a"],BaseButton:mt,BaseSelect:qt},data:function(){return{quota:"0"}},computed:{options:function(){return[{text:"от __ до __",value:"0",disabled:!0}].concat(Object(Pt["a"])(this.$store.getters.quotas.map((function(t){var e,a=t,s=a.split("-");return e="0"===s[0]?"до ".concat(s[1]):"0"===s[1]?"от ".concat(s[0]):"от ".concat(s[0]," до ").concat(s[1]),{text:e,value:a}}))))}},methods:{onSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.quota,s=new Date(Date.now()).toString(),n=t.$store.state.phone,t.$store.dispatch("setParams",{quota:a}),t.$store.dispatch("setQuotaAge",s);try{window.localStorage.setItem("".concat($,"_quota"),a),window.localStorage.setItem("".concat($,"_quota_age"),s)}catch(i){console.error(i)}return e.next=8,t.$store.dispatch("getReguser",{phone:n,quota:a});case 8:r=e.sent;try{window.localStorage.setItem("".concat($,"_id_binfo"),r)}catch(i){console.error(i)}M("quota",{quota:a,age:s});case 11:case"end":return e.stop()}}),e)})))()}}},Ht=It,Lt=(a("88c2"),Object(T["a"])(Ht,Ot,St,!1,null,null,null)),Et=Lt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationObserver",{attrs:{slim:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.passes;return[a("form",{staticClass:"formPrice",attrs:{action:"/",method:"get",novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.onSubmit)}}},[t.isSent?[a("h2",{staticClass:"formPrice__title",domProps:{innerHTML:t._s(t.$store.state.callbackData.callback)}},[t._v("Ожидайте ответа в течение 30 мин.")])]:[a("h2",{staticClass:"formPrice__title",domProps:{innerHTML:t._s(t.$store.state.callbackData.callback_header)}},[t._v("Рассчитать стоимость")]),a("BaseInput",{staticClass:"formPrice__input",attrs:{type:"text",name:"name",validate:{required:!0},placeholder:"Ваше имя"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("BaseInput",{staticClass:"formPrice__input",attrs:{type:"email",name:"email",validate:{required:!0,email:!0},placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("BaseButton",{staticClass:"formPrice__submit baseButton--red",attrs:{type:"submit"},domProps:{innerHTML:t._s(t.$store.state.callbackData.callback_button)}},[t._v("Получить расчет")])]],2)]}}])})},Qt=[],Ft={components:{ValidationObserver:c["a"],BaseButton:mt,BaseInput:$t},props:{isSent:Boolean},data:function(){return{name:"",email:""}},methods:{onSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("onValidate",{name:t.name,email:t.email});case 1:case"end":return e.stop()}}),e)})))()}}},Nt=Ft,Vt=(a("bfc6"),Object(T["a"])(Nt,Tt,Qt,!1,null,null,null)),Ut=Vt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hall"},[t.$store.state.isChangeDate||t.$store.state.isChangeHall?t._e():[a("div",{staticClass:"title",class:{"mb-20":"0"!==t.$store.state.permission}},[t._v("Дата "),a("strong",[t._v(t._s(t.$store.getters.date))])]),a("div",{staticClass:"titleMob",on:{click:function(e){return t.$store.dispatch("setChangeDate",!0)}}},[a("strong",[t._v(t._s(t.$store.getters.date))]),a("span",[t._v("Изменить дату")])])],t.$store.state.isChangeDate||"0"!==t.$store.state.permission?t._e():a("div",{staticClass:"choiceHall",class:{isChangeHall:t.$store.state.isChangeHall,hasHall:Boolean(t.$store.getters.hall)}},[a("div",{staticClass:"select"},[t._v("Выберите зал"),a("img",{staticClass:"arrow",attrs:{src:t.arrow}})]),a("CardList",{staticClass:"cardList"},t._l(t.$store.getters.halls,(function(e){return a("Card",t._b({key:e.id,class:{active:e.id.toString()===t.$store.state.hallsid},on:{click:function(a){return t.selectedHall(e.id)}}},"Card",e,!1))})),1)],1),!t.$store.getters.hall||t.$store.state.isChangeDate||t.$store.state.isChangeHall?t._e():["0"===t.$store.state.permission?a("div",{staticClass:"changeHall",on:{click:function(e){return t.$store.dispatch("setChangeHall",!0)}}},[a("div",{staticClass:"underline"},[a("strong",[t._v(t._s(t.$store.getters.hall.name))]),t._v(" "),a("span",[t._v(t._s(t.$store.getters.hall.note))])]),a("span",{staticClass:"changeHallSub"},[t._v("Изменить зал")])]):t._e(),a("div",{staticClass:"stateMobs",class:{isBusy:t.$store.getters.hall.isBusy,isPartBusy:t.$store.getters.hall.isPartBusy},on:{click:function(e){t.visibility=!t.visibility}}},[t.$store.getters.hall.isPartBusy?[a("ToolTip",t._b({},"ToolTip",Object.assign({},t.tooltip,{trigger:"clickToToggle"}),!1),[a("span",{staticClass:"popper"},[t._v(t._s(t.tooltip.content))]),a("span",{attrs:{slot:"reference"},slot:"reference"},[a("span",[t._v(t._s(t.mobState))]),a("span",{staticClass:"tooltip"},[t._v("?")])])])]:[a("span",[t._v(t._s(t.mobState))])]],2)],!t.$store.getters.hall||t.$store.state.isChangeDate||t.$store.state.isChangeHall?t._e():a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("div",{staticClass:"conditions"},[a("h2",{staticClass:"name"},[t._v(t._s(t.$store.getters.hall.name))]),"0"===t.$store.state.permission?a("p",{staticClass:"hallNote"},[t._v(t._s(t.$store.getters.hall.note))]):t._e(),a("div",{staticClass:"status",class:{isBusy:t.$store.getters.hall.isBusy,isPartBusy:t.isPartBusyClass}},[a("strong",[t._v(t._s(t.$store.getters.dMyyyy))]),a("div",[a("span",{staticClass:"state"},[t._v(t._s(t.state))]),t.$store.getters.hall.isPartBusy&&!t.$store.getters.hall.isBusy?a("ToolTip",t._b({},"ToolTip",Object.assign({},t.tooltip),!1),[a("span",{staticClass:"popper"},[t._v(t._s(t.tooltip.content))]),a("span",{staticClass:"tooltip",attrs:{slot:"reference"},slot:"reference"},[t._v("?")])]):t._e()],1)])]),a("div",{staticClass:"desc"},[a("strong",{staticClass:"strong"},[t._v("Условия на "+t._s(t.$store.getters.date))]),a("Description",{domProps:{innerHTML:t._s(t.$store.getters.hall.description)}})],1)]),a("Picture",{staticClass:"right",attrs:{images:t.$store.getters.hall.fotos,alt:t.$store.getters.hall.name,params:"&fit=cover&w=156&h=84"}})],1)],2)},Kt=[],Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardList"},[t._t("default")],2)},Yt=[],zt={name:"CardList"},Gt=zt,Xt=(a("03b9"),Object(T["a"])(Gt,Wt,Yt,!1,null,"7c9fd8f1",null)),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({staticClass:"card"},t.$listeners),[a("h3",{staticClass:"name"},[t._v(t._s(t.name))]),a("p",{staticClass:"description"},[t._v(t._s(t.description))])])},ee=[],ae={name:"Card",props:{name:String,description:String}},se=ae,ne=(a("160a"),Object(T["a"])(se,te,ee,!1,null,"11bca1ea",null)),re=ne.exports,ie=a("aa50"),oe=a.n(ie),ce=(a("a101"),{name:"Lay",components:{Annonce:tt,Description:it,CardList:Zt,Card:re,Picture:function(){return a.e("chunk-e8eb45d2").then(a.bind(null,"6e04"))},ToolTip:function(){return a.e("chunk-1bb00d29").then(a.t.bind(null,"526e",7))}},data:function(){return{arrow:oe.a,tooltip:{content:"Зал частично забронирован, но ваше мероприятие может быть там проведено. Узнайте подробнее, оставив заявку на расчет стоимости.",options:{placement:"bottom"}}}},computed:Object(n["a"])({},Object(p["b"])({permission:function(t){return t.permission}}),{isPartBusyClass:function(){return this.$store.getters.hall.isPartBusy&&!this.$store.getters.hall.isBusy},state:function(){var t=this.$store.getters.hall,e=t.isBusy,a=t.isPartBusy;return e?"ЗАНЯТ":a?"частично СВОБОДЕН":"СВОБОДЕН"},mobState:function(){var t=this.$store.getters.hall,e=t.isBusy,a=t.isPartBusy;return"Дата ".concat(e?"занята":a?"частично свободна":"свободна")}}),methods:{selectedHall:function(t){this.$store.dispatch("setHallsId",t)}}}),ue=ce,le=(a("d95f"),Object(T["a"])(ue,Jt,Kt,!1,null,"4b35e02c",null)),de=le.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Datepicker",t._g(t._b({staticClass:"datepicker"},"Datepicker",t.props,!1),t.$listeners))},fe=[],me=a("f2d8"),he={name:"DatePicker",components:{Datepicker:function(){return a.e("chunk-060cb8e6").then(a.bind(null,"fa33"))}},data:function(){return{props:Object(n["a"])({name:"datepicker",inline:!0,language:me["a"],"full-month-name":!0,mondayFirst:!0},this.$props,{},this.$attrs)}}},ge=he,be=(a("3047"),Object(T["a"])(ge,pe,fe,!1,null,"41de4aea",null)),ve=be.exports,_e=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectDateNotification"},[a("div",{staticClass:"selectDateNotification__title"},[t._v("Выберите дату")])])}],ke={name:"SelectDateNotification",data:function(){return{isOpen:!1}}},$e=ke,we=(a("c515"),Object(T["a"])($e,_e,ye,!1,null,null,null)),Ce=we.exports,De={name:"Inner",components:{Modal:F,Layout:W,Annonce:tt,Description:it,FormRegistration:xt,FormQuota:Et,BaseButton:mt,FormPrice:Ut,DatePicker:ve,Hall:de,SelectDateNotification:Ce},data:function(){return{isOpen:!1,isSent:!1,stateSelectedDate:!1}},props:["isInline"],computed:{phantomDate:function(){return new Date(this.$store.state.date).setMonth(this.$store.state.date.getMonth()+1)},disabledDates:function(){return this.$store.getters.isAuth?{to:function(t){return new Date(t.setDate(t.getDate()-1))}(new Date)}:{}},datePickerClasses:function(){return{isChangeDate:this.$store.state.isChangeDate,isAuth:this.$store.getters.isAuth,noQuota:!this.$store.getters.hasQuota}}},methods:{isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},registrationFormSubmit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.phone,a.next=3,e.$store.dispatch("getReguser",{phone:s});case 3:n=a.sent;try{window.localStorage.setItem("".concat($,"_id_binfo"),n)}catch(r){console.error(r)}M("auth",{id_binfo:n});case 6:case"end":return a.stop()}}),a)})))()},formSubmit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,r,i,o,c,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.$store.state.hallsid,r=Object(n["a"])({},t,{hallsid:s,needdate:e.$store.getters.date}),a.next=4,e.axios.get("/?m=reguser",{params:r});case 4:i=a.sent,o=i.data.result,o===w&&(M("cost_calculation_request",r),e.isSent=!0),c=r.name,u=r.email,l=e.$store.state.callbackData.callback_whatsapp.replace("NAME",c).replace("EMAIL",u),e.isMobile()&&window.open(l,"_blank");case 10:case"end":return a.stop()}}),a)})))()},playFocusAnimation:function(){this.$store.getters.isAuth||(window.matchMedia("(max-width: 767px)").matches?this.isOpen=!0:this.$refs.formRegistration.$emit("playFocusAnimation"))},selectedDate:function(t){this.$store.getters.isAuth?this.stateSelectedDate=!0:this.stateSelectedDate=!1,this.$store.dispatch("setDate",t)},onClickDatePicker:function(t){t.target&&"header"===t.target.tagName.toLowerCase()&&this.playFocusAnimation()}},beforeCreate:function(){this.$store.getters.isAuth||this.$store.dispatch("setDate",function(t){return new Date(t.setMonth(t.getMonth()-1,1))}(new Date)),this.$store.dispatch("setLoading",!1)},updated:function(){this.$store.getters.isAuth&&window.matchMedia("(max-width: 767px)").matches&&this.$store.dispatch("setChangeDate",!0)},mounted:function(){this.isMobile()&&(this.stateSelectedDate=!0)}},xe=De,Oe=Object(T["a"])(xe,R,q,!1,null,null,null),Se=Oe.exports,Pe={name:"app",components:{Inner:Se,Modal:F},data:function(){return{isInline:window.isInlineState||!1}},methods:{close:function(){M("remove")}}},Be=Pe,je=(a("5c0b"),Object(T["a"])(Be,B,j,!1,null,null,null)),Ae=je.exports;Object(c["c"])("required",u["c"]),Object(c["c"])("email",u["a"]),Object(c["c"])("regex",u["b"]),r["a"].config.productionTip=!1;var Me=Object.fromEntries(new URLSearchParams(window.location.search));window.data&&window.data.a&&window.data.slug&&(Me.a=window.data.a,Me.domain="bbanket.ru/".concat(window.data.slug)),r["a"].use(d.a,o.a.create({baseURL:"https://in.bookbanket.ru/booking/api"})),r["a"].axios.interceptors.request.use((function(t){return t.params=Object(n["a"])({},t.params,{},P.state.params),t}),(function(t){return Promise.reject(t)}));var Re=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Me.quota=Me.quota||"0",t.next=3,P.dispatch("setQuotaAge",Me.quota_age);case 3:return delete Me.quota_age,t.next=6,P.dispatch("setParams",Me);case 6:return t.next=8,P.dispatch("getStart");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();new r["a"]({store:P,beforeCreate:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Me.quota)try{Me.quota=window.localStorage.getItem("".concat($,"_quota"))}catch(e){console.error(e)}if(!Me.quota_age)try{Me.quota_age=window.localStorage.getItem("".concat($,"_quota_age"))}catch(e){console.error(e)}if(!Me.id_binfo)try{Me.id_binfo=window.localStorage.getItem("".concat($,"_id_binfo"))}catch(e){console.error(e)}return!Me.quota||!Me.quota_age||Me.id_binfo,t.next=6,Re();case 6:case"end":return t.stop()}}),t)})))()},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("setLoading",!0);case 2:case"end":return e.stop()}}),e)})))()},render:function(t){return t(Ae)}}).$mount("#app")},"5b42":function(t,e,a){"use strict";var s=a("4103"),n=a.n(s);n.a},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"62c2":function(t,e,a){"use strict";var s=a("fe5d"),n=a.n(s);n.a},"66a1":function(t,e,a){},"6abe":function(t,e,a){},"775b":function(t,e,a){},"88c2":function(t,e,a){"use strict";var s=a("da02"),n=a.n(s);n.a},"8c1a":function(t,e,a){},"9b1f":function(t,e,a){"use strict";var s=a("6abe"),n=a.n(s);n.a},"9c0c":function(t,e,a){},a1fe:function(t,e,a){},aa50:function(t,e,a){t.exports=a.p+"widget/img/arrow2.6568f302.svg"},bfc6:function(t,e,a){"use strict";var s=a("2517"),n=a.n(s);n.a},c515:function(t,e,a){"use strict";var s=a("a1fe"),n=a.n(s);n.a},c9bd:function(t,e,a){"use strict";var s=a("3c0a"),n=a.n(s);n.a},d95f:function(t,e,a){"use strict";var s=a("50e5"),n=a.n(s);n.a},da02:function(t,e,a){},da4b:function(t,e,a){},e3fe:function(t,e,a){"use strict";var s=a("da4b"),n=a.n(s);n.a},e7f2:function(t,e,a){},fe5d:function(t,e,a){}});
//# sourceMappingURL=app.99c52689.js.map